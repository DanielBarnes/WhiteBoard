<head>
	<script src="/socket.io/socket.io.js"></script>
	<script>
		function draw() {
			var canvas = document.getElementById("canvas");
			var ctx = canvas.getContext("2d");
			ctx.fillStyle = "black";
			ctx.beginPath();
			var socket = io.connect('http://192.168.1.8:8000');
			var x;
			var y;
			var derdipity;

			socket.on('message', function(msg){
				var herp = JSON.parse(msg);
				x = herp.x;
				y = herp.y;console.log(x + '  '+ y );
				ctx.fillRect(x,y,5,5);
			});

			canvas.onmousedown = function(e) {
				canvas.onmousemove = function(e) {
					x = e.clientX;
					y = e.clientY;
					x -= canvas.offsetLeft;
					y -= canvas.offsetTop;
					var xyObj = {'x':x, 'y':y };
					socket.send(JSON.stringify(xyObj));
				};
			}
			
			canvas.onmouseup = function(e) {
				canvas.onmousemove = null;
			}
		};
	</script>
</head>
<body onload="draw();">
	<div>
	    <canvas id="canvas" width="1200" height="800"
	    style="border: 1px solid black;"></canvas>

	</div>
	<div>
		<button id="clearwhiteboard">Clear</button>
    </div>
</body>
